{% extends "layout.html" %}
{% block body %}
<script>
	var todayDate = moment().startOf('day');
	var YESTERDAY = todayDate.clone().subtract(1, 'day').format('YYYY-MM-DD');
	var TODAY = todayDate.format('YYYY-MM-DD');
	var TOMORROW = todayDate.clone().add(1, 'day').format('YYYY-MM-DD');
	
	$(document).ready(function() {
		$('#calendar').fullCalendar({
			schedulerLicenseKey: 'CC-Attribution-NonCommercial-NoDerivatives',
			now: '2017-07-17',
			editable: true,
			aspectRatio: 1.8,
			scrollTime: '00:00',
			//slotDuration: '00:30:00',
			snapDuration: '00:30:00',
			header: {
				left: 'today prev,next',
				center: 'title',
				right: 'timelineDay,agendaWeek,timelineWeek,month'
			},
			businessHours: {
				// days of week. an array of zero-based day of week integers (0=Sunday)
				dow: [ 0, 1, 2, 3, 4, 5, 6 ], // Monday - Thursday

				start: '06:00', // a start time (10am in this example)
				end: '22:00', // an end time (6pm in this example)
			},
			defaultView: 'timelineWeek',
			nowIndicator  : true,
			allDaySlot : false,
			dayClick: function(start, end, jsEvent, view, resource) {
				;//alert(start);
			},
			eventClick: function(calEvent, jsEvent, view) {

				alert('Event: ' + calEvent.title);
				//alert('Coordinates: ' + jsEvent.pageX + ',' + jsEvent.pageY);
				//alert('View: ' + view.name);

				// change the border color just for fun
				$(this).css('border-color', 'red');

			},
			selectable: true,
			select: function( start, end, jsEvent, view, resource) {
				alert('nuovo turno per ' + resource.title);
			},
			views: {
				timelineThreeDays: {
					type: 'timeline',
					duration: { days: 3 }
				}
			},
			selectable: true,
			minTime: '06:00:00',
			maxTime: '22:00:00',
			resourceAreaWidth: '20%',
			resourceColumns: [
				{
					labelText: 'Dipendente',
					field: 'title'
				}
			],
			resources: [
				{ id: 'a', title: 'ARTISTA SANDRO', occupancy: 40 },
				{ id: 'b', title: 'CONFALONE SABATINO', occupancy: 40, eventColor: 'green' },
				{ id: 'c', title: 'DENIS DENIS', occupancy: 40, eventColor: 'orange' },
				{ id: 'd', title: 'DI DOMENICO ATTILIO', occupancy: 40 },
				{ id: 'e', title: 'DONADIO GIAMBATTISTA', occupancy: 40 },
				{ id: 'f', title: 'DONADIO GIUSEPPINA', occupancy: 40 },
				{ id: 'g', title: 'FARELLA SARA', occupancy: 40 },
				{ id: 'h', title: 'FERNANDO CHAMAL', occupancy: 40 },
				{ id: 'i', title: 'IACONO LICIA', occupancy: 40 },
				{ id: 'j', title: 'IEZZI GIANLUCA', occupancy: 40 },
				{ id: 'k', title: 'LACROCE GIANLUCA', occupancy: 40 },
				{ id: 'l', title: 'LANTERNARI CLAUDIO', occupancy: 40 },
				{ id: 'm', title: 'LANTERNARI GIADA', occupancy: 40 },
				{ id: 'n', title: 'LANTERNARI JESSICA', occupancy: 40 },
				{ id: 'o', title: 'MADEDDU PIETRO', occupancy: 40 },
				{ id: 'p', title: 'MORETTI MATTIA', occupancy: 40 },
				{ id: 'q', title: 'PALMI GIUSEPPE', occupancy: 40 },
				{ id: 'r', title: 'PARLA LUIGI', occupancy: 40 },
				{ id: 's', title: 'PRECILLA RODIMYR REGALARIO', occupancy: 40 },
				{ id: 't', title: 'RICCI MANUEL', occupancy: 40 },
				{ id: 'u', title: 'RUSSO LILIANA', occupancy: 40 },
				{ id: 'v', title: 'SAMAN SAMARATHUNGA', occupancy: 40 },
				{ id: 'w', title: 'SIMONI MARIA GRAZIA', occupancy: 40 },
				{ id: 'x', title: 'VALEA MANUELA', occupancy: 40 }
			],
			events: [
				{ id: '1', resourceId: 'b', start: '2017-07-17T06:00:00', end: '2017-07-17T11:00:00', title: 'cassa', selectable: true },
				{ id: '2', resourceId: 'c', start: '2017-07-18T10:00:00', end: '2017-05-18T12:00:00', title: 'banco' },
				{ id: '3', resourceId: 'd', start: '2017-07-18', end: '2017-05-20', title: 'ferie', color: 'red' },
				{ id: '4', resourceId: 'e', start: '2017-07-19T08:00:00', end: '2017-07-19T14:00:00', title: 'laboratorio' },
				{ id: '5', resourceId: 'f', start: '2017-07-20T15:30:00', end: '2017-07-20T21:00:00', title: 'amministrazione', color: 'purple' },
				{ id: '6', resourceId: 'g', start: '2017-07-17T09:00:00', end: '2017-07-17T13:00:00', title: 'banco' },
				{ id: '7', resourceId: 'h', start: '2017-07-17T10:00:00', end: '2017-07-17T14:00:00', title: 'banco' },
				{ id: '8', resourceId: 'i', start: '2017-07-17T14:00:00', end: '2017-07-17T18:00:00', title: 'banco' },
				{ id: '9', resourceId: 'k', start: '2017-07-17T17:00:00', end: '2017-07-17T20:00:00', title: 'banco' },
				{ id: '10', resourceId: 'm', start: '2017-07-17T19:00:00', end: '2017-07-17T21:00:00', title: 'banco' },
			]
		});

	});
</script>


<div id='calendar'></div>
{% endblock %}